<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Nuestra historia ‚ô•</title>
    <!-- Tipograf√≠as: cursiva rom√°ntica + moderna -->
    <link
      href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --bg: #0b0b0d;
        --panel: #111114;
        --pink-1: #ffd1e8;
        --pink-2: #ff6fa3;
        --accent: #b30000;
        --glass: rgba(255, 255, 255, 0.04);
        --card-shadow: 0 6px 18px rgba(0, 0, 0, 0.6);
      }
      * {
        box-sizing: border-box;
      }
      html,
      body {
        height: 100%;
      }
      body {
        margin: 0;
        background: radial-gradient(
            1200px 600px at 10% 10%,
            rgba(255, 111, 147, 0.06),
            transparent 10%
          ),
          linear-gradient(180deg, #060607 0%, #0b0b0d 100%);
        color: #eee;
        font-family: "Montserrat", system-ui, -apple-system, "Segoe UI", Roboto,
          "Helvetica Neue", Arial;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        line-height: 1.4;
        overflow-y: scroll;
        scroll-behavior: smooth;
      }

      header {
        position: sticky;
        top: 0;
        z-index: 40;
        backdrop-filter: blur(6px);
        background: linear-gradient(
          180deg,
          rgba(11, 11, 13, 0.7),
          rgba(11, 11, 13, 0.45)
        );
        border-bottom: 1px solid rgba(255, 255, 255, 0.03);
        padding: 16px 20px;
        display: flex;
        align-items: center;
        gap: 16px;
      }
      .brand {
        display: flex;
        align-items: center;
        gap: 12px;
      }
      .logo {
        width: 52px;
        height: 52px;
        border-radius: 12px;
        background: linear-gradient(135deg, var(--pink-2), var(--accent));
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        color: #111;
        font-size: 22px;
        box-shadow: var(--card-shadow);
        transform: rotate(-8deg);
      }
      .title h1 {
        margin: 0;
        font-family: "Great Vibes", cursive;
        font-size: 22px;
        color: var(--pink-1);
      }
      .title p {
        margin: 0;
        font-size: 12px;
        color: rgba(255, 255, 255, 0.6);
      }

      .container {
        max-width: 980px;
        margin: 28px auto;
        padding: 0 20px;
      }
      .hero {
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.02),
          transparent
        );
        border-radius: 16px;
        padding: 28px;
        display: flex;
        gap: 20px;
        align-items: center;
        box-shadow: var(--card-shadow);
        border: 1px solid rgba(255, 255, 255, 0.03);
      }

      .hero-right {
        width: 220px;
        text-align: center;
      }
      .hero h2 {
        font-family: "Great Vibes", cursive;
        font-size: 42px;
        margin: 0;
        color: var(--pink-1);
      }
      .hero p {
        margin-top: 8px;
        color: rgba(255, 255, 255, 0.85);
      }
      .heart {
        display: inline-block;
        width: 36px;
        height: 36px;
        border-radius: 50%;
        background: linear-gradient(180deg, var(--pink-2), var(--pink-1));
        box-shadow: 0 6px 18px rgba(255, 111, 147, 0.12);
        position: relative;
        transform: rotate(-20deg);
        cursor: pointer;
        animation: heartbeat 1.2s infinite;
        transition: box-shadow 0.3s ease;
      }
      .heart:hover {
        box-shadow: 0 0 25px var(--pink-2), 0 0 35px var(--accent);
      }
      @keyframes heartbeat {
        0%,
        100% {
          transform: scale(1) rotate(-20deg);
        }
        50% {
          transform: scale(1.1) rotate(-20deg);
        }
      }

      section.card {
        margin-top: 20px;
        background: var(--panel);
        padding: 20px;
        border-radius: 14px;
        border: 1px solid rgba(255, 255, 255, 0.02);
        box-shadow: var(--card-shadow);
      }
      h3.section-title {
        margin: 0 0 12px 0;
        font-size: 20px;
        color: var(--pink-1);
        font-family: "Great Vibes", cursive;
      }
      .story-text {
        color: #ffd1e8; /* texto rosado */
        white-space: pre-wrap;
        background: rgba(
          50,
          0,
          30,
          0.5
        ); /* fondo semitransparente m√°s visible */
        padding: 18px;
        border-radius: 10px;
        border: 1px dashed rgba(255, 255, 255, 0.2);
      }

      .notes-area {
        display: grid;
        grid-template-columns: 1fr 320px;
        gap: 18px;
      }
      .notes-list {
        max-height: 360px;
        overflow: auto;
        padding: 12px;
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
      .note {
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.02),
          transparent
        );
        padding: 12px;
        border-radius: 10px;
        border-left: 4px solid var(--pink-2);
      }
      .note small {
        display: block;
        color: rgba(255, 255, 255, 0.55);
        margin-top: 8px;
      }

      form.note-form {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }
      .note-form textarea {
        min-height: 100px;
        background: transparent;
        border: 1px solid rgba(255, 255, 255, 0.06);
        padding: 10px;
        border-radius: 8px;
        color: inherit;
      }
      .note-form input[type="text"] {
        background: transparent;
        border: 1px solid rgba(255, 255, 255, 0.06);
        padding: 10px;
        border-radius: 8px;
        color: inherit;
      }
      .btn {
        display: inline-block;
        background: linear-gradient(90deg, var(--pink-2), var(--accent));
        padding: 10px 14px;
        border-radius: 999px;
        border: none;
        color: #111;
        font-weight: 700;
        cursor: pointer;
      }
      .btn.ghost {
        background: transparent;
        border: 1px solid rgba(255, 255, 255, 0.06);
        color: inherit;
      }

      .controls {
        display: flex;
        gap: 8px;
        align-items: center;
      }
      .small {
        font-size: 13px;
        color: rgba(255, 255, 255, 0.7);
      }
      footer {
        margin: 34px 0 80px 0;
        text-align: center;
        color: rgba(255, 255, 255, 0.5);
      }

      .momentos-gallery {
        display: none; /* oculto por defecto */
        flex-wrap: wrap;
        gap: 12px;
        margin-top: 16px;
        justify-content: center;
      }
      .momentos-gallery img {
        width: 140px;
        height: 140px;
        object-fit: cover;
        border-radius: 10px;
        transition: transform 0.3s ease;
      }
      .momentos-gallery img:hover {
        transform: scale(1.1);
      }

      /* Bot√≥n coraz√≥n reemplazando el div animado */
      .heart-btn {
        font-size: 36px;
        background: transparent;
        border: none;
        cursor: pointer;
        color: var(--pink-2);
        transition: transform 0.2s;
      }
      .heart-btn:hover {
        transform: scale(1.2);
      }

      @media (max-width: 880px) {
        .notes-area {
          grid-template-columns: 1fr;
        }
        .hero {
          flex-direction: column;
        }
        .hero-right {
          width: 100%;
        }
      }

      .notes-display {
        background: linear-gradient(
          180deg,
          rgba(255, 111, 147, 0.05),
          transparent
        );
        border: 1px solid rgba(255, 111, 147, 0.2);
        padding: 16px;
        border-radius: 12px;
        margin-bottom: 16px;
        color: #ffd1e8;
        font-family: "Montserrat", sans-serif;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
      }
      .notes-display strong {
        display: block;
        margin-bottom: 6px;
        color: var(--pink-1);
        font-family: "Great Vibes", cursive;
        font-size: 18px;
      }
      .notes-display p {
        margin: 0;
        line-height: 1.5;
        color: rgba(255, 209, 232, 0.9);
      }

      .momentos-gallery {
        display: none; /* sigue oculto hasta que se haga click */
        flex-wrap: wrap;
        gap: 12px;
        margin-top: 16px;
        justify-content: center;
      }

      .momentos-item {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .momentos-item img {
        width: 140px;
        height: 140px;
        object-fit: cover;
        border-radius: 10px;
        transition: transform 0.3s ease;
      }

      .momentos-item img:hover {
        transform: scale(1.1);
      }

      .momentos-desc {
        margin-top: 6px;
        font-size: 13px;
        color: rgba(255, 255, 255, 0.7);
        text-align: center;
      }

      #momentos-toggle {
        all: unset; /* elimina estilos predeterminados del bot√≥n */
        display: inline-block;
        width: 36px;
        height: 36px;
        border-radius: 50%;
        background: linear-gradient(180deg, var(--pink-2), var(--pink-1));
        box-shadow: 0 6px 18px rgba(255, 111, 147, 0.12);
        transform: rotate(-20deg);
        cursor: pointer;
        animation: heartbeat 1.2s infinite;
        text-align: center;
        line-height: 36px;
        color: #fff;
        font-size: 20px;
      }
      #momentos-toggle:hover {
        box-shadow: 0 0 25px var(--pink-2), 0 0 35px var(--accent);
      }

      /* Animaci√≥n para que las im√°genes aparezcan */
      @keyframes fadeInUp {
        0% {
          opacity: 0;
          transform: translateY(20px);
        }
        100% {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .momentos-gallery.show img {
        animation: fadeInUp 0.5s ease forwards;
        animation-delay: var(
          --delay,
          0s
        ); /* Usaremos delay din√°mico para cada imagen */
      }

      /* T√∫ y Yo */
      .you-me-container {
        margin-top: 30px;
        text-align: center;
        background: var(--panel);
        padding: 25px;
        border-radius: 14px;
        border: 1px solid rgba(255, 255, 255, 0.03);
        box-shadow: var(--card-shadow);
      }

      .you-me-content {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 25px;
        margin-top: 15px;
      }

      .person img {
        width: 120px;
        height: 120px;
        object-fit: cover;
        border-radius: 50%;
        border: 2px solid rgba(255, 255, 255, 0.1);
        transition: transform 0.3s ease;
      }

      .person img:hover {
        transform: scale(1.1);
      }

      .and-text {
        font-size: 28px;
        font-weight: bold;
        color: var(--pink-1);
        font-family: "Great Vibes", cursive;
      }

      .label {
        margin-top: 8px;
        font-size: 16px;
        color: #ffd6e0;
      }

      .always-text {
        margin-top: 15px;
        font-size: 30px;
        color: #ffb3c6;
        font-family: "Great Vibes", cursive;
      }
    </style>
  </head>
  <body>
    <header>
      <div class="brand">
        <div class="logo">‚ô•</div>
        <div class="title">
          <h1>Nuestra historia</h1>
          <p class="small">
            Una p√°gina hecha por mi, con todo el cari√±o del mundo, solo para ti.
          </p>
        </div>
      </div>
      <div style="flex: 1"></div>
      <nav class="controls">
        <button class="btn" id="play-toggle">Reproducir m√∫sica</button>
        <button
          class="btn"
          id="perla-completa"
          style="display: none"
          onclick="window.location.href='perla.html'"
        >
          La perla de Shikon
        </button>
      </nav>
    </header>

    <img src="img/jj.png" class="decoracion izquierda" />
    <img src="img/a1.png" class="decoracion izquierda decor1" />
    <img src="img/rosa.png" class="decoracion derecha decor2" />
    <img src="img/a2.png" class="decoracion derecha decor3" />

    <style>
      .decoracion {
        position: fixed;
        top: 50%;
        transform: translateY(-50%);
        width: 100px;
        opacity: 0.85;
        z-index: 10;
        animation: flotar 4s ease-in-out infinite; /* üëà animaci√≥n aplicada */
      }

      /* Lado izquierdo */
      .izquierda {
        left: 15px;
      }

      /* Lado derecho */
      .derecha {
        right: 15px;
      }

      /* Animaci√≥n de flotaci√≥n */
      @keyframes flotar {
        0% {
          transform: translateY(-50%) translateY(0);
        }
        50% {
          transform: translateY(-50%) translateY(-15px); /* sube */
        }
        100% {
          transform: translateY(-50%) translateY(0); /* baja */
        }
      }

      .decor1 {
        top: 81%;
        left: 0px;
      }
      .decor2 {
        top: 79%;
        right: 30px;
      }
      .decor3 {
        bottom: 70%;
        right: 30px;
      }
      .decor4 {
        bottom: 30%;
        right: 80px;
      }

      /* Base com√∫n */
      .perla {
        position: absolute;
        width: 8px;
        height: 10px;
        background: white;
        cursor: pointer;
        box-shadow: 0 0 6px rgba(255, 255, 255, 0.6);
        /* Brillo tipo destello */
      }

      .perla::after {
        content: "";
        position: absolute;
        top: 50%;
        left: 50%;
        width: 15px;
        height: 15px;
        background: radial-gradient(
          circle,
          rgba(255, 255, 255, 0.9) 0%,
          transparent 70%
        );
        transform: translate(-50%, -50%);
        pointer-events: none;
        filter: blur(2px);
        animation: destello 1.5s infinite;
      }

      /* Animaci√≥n destello */
      @keyframes destello {
        0%,
        100% {
          transform: translate(-50%, -50%) scale(1);
          opacity: 1;
        }
        50% {
          transform: translate(-50%, -50%) scale(1.4);
          opacity: 0.5;
        }
      }

      /* Fragmentos con formas √∫nicas de l√≠neas rectas */
      .perla-1 {
        clip-path: polygon(0% 0%, 100% 0%, 80% 100%, 0% 90%);
        top: 800px;
        left: 120px;
      }
      .perla-2 {
        clip-path: polygon(20% 0%, 100% 10%, 90% 100%, 0% 90%);
        top: 500px;
        left: 1250px;
      }
      .perla-3 {
        clip-path: polygon(0% 10%, 80% 0%, 100% 80%, 10% 100%);
        top: 1700px;
        left: 1100px;
      }
      .perla-4 {
        clip-path: polygon(10% 0%, 90% 0%, 100% 90%, 0% 80%);
        top: 300px;
        left: 200px;
      }
      .perla-5 {
        clip-path: polygon(0% 0%, 100% 20%, 80% 100%, 20% 80%);
        top: 2000px;
        left: 170px;
      }
      .perla-6 {
        clip-path: polygon(0% 20%, 80% 0%, 100% 90%, 10% 100%);
        top: 2700px;
        left: 1240px;
      }

      @keyframes destello {
        0%,
        100% {
          transform: translate(-50%, -50%) scale(1);
          opacity: 1;
        }
        50% {
          transform: translate(-50%, -50%) scale(1.4);
          opacity: 0.5;
        }
      }
    </style>

    <div class="perla perla-1"></div>
    <div class="perla perla-2"></div>
    <div class="perla perla-3"></div>
    <div class="perla perla-4"></div>
    <div class="perla perla-5"></div>
    <div class="perla perla-6"></div>

    <main class="container">
      <div class="hero">
        <div class="hero-left">
          <h2>Para ti, una prueba mas del imenso amor que te tengo.</h2>
          <p class="small">
            Un sitio web para almacenar nuestros recuerdos y experiencias
            juntos.
          </p>
          <div
            style="
              margin-top: 16px;
              display: flex;
              gap: 10px;
              align-items: center;
            "
          >
            <span class="heart"></span>
            <small class="small"
              >Consejo: abr√≠ esta p√°gina en modo pantalla completa para mayor
              impacto(f1).</small
            >
          </div>
        </div>
        <div class="hero-right">
          <div
            style="
              padding: 12px;
              border-radius: 12px;
              background: linear-gradient(
                180deg,
                rgba(255, 255, 255, 0.02),
                transparent
              );
              border: 1px solid rgba(255, 255, 255, 0.03);
            "
          >
            <strong class="small">Dia que nos conocimos:</strong>
            <div style="margin-top: 8px">1/10/25 üíñ</div>
          </div>

          <div
            style="
              padding: 12px;
              border-radius: 12px;
              background: linear-gradient(
                180deg,
                rgba(255, 255, 255, 0.02),
                transparent
              );
              border: 1px solid rgba(255, 255, 255, 0.03);
              text-align: center;
            "
          >
            <strong class="small">D√≠as juntos:</strong>
            <div
              id="dias-juntos"
              style="margin-top: 8px; font-size: 18px; color: #ffd6e0"
            >
              Calculando... üíï
            </div>
          </div>

          <script>
            const fechaInicio = new Date("2025-10-01");

            function calcularDiasJuntos() {
              const hoy = new Date();
              const diferencia = hoy - fechaInicio;
              const dias = Math.floor(diferencia / (1000 * 60 * 60 * 24));
              document.getElementById(
                "dias-juntos"
              ).textContent = `${dias} d√≠as üíñ`;
            }

            calcularDiasJuntos();
          </script>
        </div>
      </div>

      <section id="story" class="card">
        <h3 class="section-title">Nuestra historia</h3>
        <div class="story-text" id="story-text">
          üíñCarta #1<br />
          Desde el primer dia que hablamos, supe que tu eras una persona
          especial, esta pagina web te la hago con todo el cari√±o que puedo
          darte, espero que te guste, la idea es que aqui vallamos recopilando
          momentos especiales, y que sea como una capsula del tiempo dkajdka, no
          se, pero espero que te guste.<3
        </div>
        <br />
        <div class="story-text" id="story-text">
          üíñ Carta #2<br />
          Cada versi√≥n de esta p√°gina lleva mucho amor y esfuerzo. Cada una
          representa el empe√±o que pongo para demostrarte, cada vez m√°s, el gran
          amor y aprecio que te tengo. Estoy muy enamorado de ti: de tus ojos,
          de tu boca, de tus labios, de tu pelo, de tu manera de tratarme, de tu
          forma de amarme‚Ä¶ Estoy enamorado de todo de ti, incluso de cosas que
          no puedo mencionar aqu√≠ alsjsajd. Te amo, mi amor. Jam√°s dejar√© de
          hacerlo. JAM√ÅS. Te amo.<3
        </div>
        <br />
        <div class="story-text" id="story-text">
          üíñ Carta #3<br />
          Mi amor, siento que todo esto es muy poco, en comparacion de lo que
          mereces, apesar de eso, quiero que sepas que cada linea de codigo,
          cada variable, cada comando, cada propiedad llevan una gran parte de
          todo mi amor hacia ti, Te amo cari√±o, y hare todo lo posible para
          demostrarte mi inmenso amor todos los dias. TE AMOOOOOO.<3
        </div>
        <br />
        <div class="story-text" id="story-text">
          üíñ Carta #4<br />
          Este 1/12/2025 es un d√≠a especial, un d√≠a especial porque cumplimos 2
          meses de relaci√≥n. Este poco tiempo ha sido suficiente para saber que
          quiero compartir el resto de mi vida a tu lado; para saber que t√∫
          ser√°s mi esposa; para saber que eres la mujer de mi vida. Te juro que
          cada segundo que paso a tu lado lo valoro como no tienes idea, porque
          esos momentos contigo son mis momentos favoritos del d√≠a. Jam√°s me
          hab√≠a sentido as√≠ con absolutamente nadie; jam√°s nadie me hab√≠a hecho
          sentir que tengo a alguien especial a mi lado. T√∫ me haces sentir todo
          eso, nadie m√°s. Espero ‚Äîy estoy seguro‚Äî que compartiremos mucho m√°s
          tiempo juntos. Estoy seguro de que seremos una pareja feliz, y s√© muy
          bien que, si los dos ponemos de nuestra parte, podremos resolver
          cualquier adversidad que se nos ponga enfrente, porque nada ni nadie
          nos va a separar. Estaremos juntos por y para siempre. <br />
          Te amo, mi amor<3 <br />
          ATT. Tu Gusanito metalero que te ama muchote.üíñ <br />
          P.D. Encuentra y da click en todos los fragmentos blancos dispersados
          en la pagina.
        </div>
        <br />
        <div class="story-text" id="story-text">
          üíñ Carta #5<br />
          Hola mi amor, hoy celebramos dos momentos especiales en nuestras
          vidas: celebramos tres meses juntos y tambi√©n celebramos un nuevo a√±o
          que compartiremos t√∫ y yo juntos. Estoy muy feliz de compartir este
          nuevo a√±o a tu lado, y s√© que compartiremos muchos a√±os m√°s juntos. Te
          amo con toda mi alma y con todo mi ser; eres la mujer con la que
          quiero pasar el resto de mi vida. Te amo demasiado, mi ni√±a. ¬°Feliz
          A√±o Nuevo, mi amor! <3
          <br />
          Att. Tu gusanito que te ama un mont√≥n.üíñ
        </div>

        <div
          style="
            margin-top: 12px;
            display: flex;
            gap: 8px;
            align-items: center;
            flex-wrap: wrap;
          "
        >
          <div style="flex: 1"></div>
        </div>
      </section>

      <section id="notes" class="card">
        <h3 class="section-title">Notas</h3>
        <div class="notes-display" id="notes-display">
          <p>Aqu√≠ pod√©s dejar un mensaje especial que siempre veras.</p>
        </div>
        <div class="notes-area">
          <div>
            <div class="notes-list" id="notes-list"></div>
          </div>
          <aside>
            <form class="note-form" id="note-form">
              <label class="small">T√≠tulo</label>
              <input
                type="text"
                id="note-title"
                placeholder="Ej: Recuerdo favorito"
              />
              <label class="small">Mensaje</label>
              <textarea
                id="note-body"
                placeholder="Escribe aqu√≠ una nota corta..."
              ></textarea>
              <div style="display: flex; gap: 8px; align-items: center">
                <button class="btn" type="submit">Agregar nota</button>
                <button class="btn ghost" type="button" id="clear-notes">
                  Borrar todas
                </button>
              </div>
            </form>
          </aside>
        </div>
      </section>

      <section class="card momentos-container">
        <h3 class="section-title">Momentos</h3>
        <div class="momentos-heart">
          <p class="momentos-instructions">Has click en el ‚ô•</p>
          <button id="momentos-toggle" class="heart-btn">‚ô•</button>
        </div>
        <div class="momentos-gallery" id="momentos-gallery">
          <div class="momentos-item">
            <img src="img/a2.jpg" alt="Momento 1" />
            <p class="momentos-desc">Maquillaje favorito</p>
          </div>
          <div class="momentos-item">
            <img src="img/a6.jpg" alt="Momento 1" />
            <p class="momentos-desc">Mi foto favorita</p>
          </div>
          <div class="momentos-item">
            <img src="img/2.jpg" alt="Momento 1" />
            <p class="momentos-desc">Mi foto favorita #2</p>
          </div>
          <div class="momentos-item">
            <img src="img/a7.jpg" alt="Momento 1" />
            <p class="momentos-desc">Mi foto favorita #3</p>
          </div>
          <div class="momentos-item">
            <img src="img/a8.jpg" alt="Momento 1" />
            <p class="momentos-desc">Mi foto favorita #4</p>
          </div>
          <div class="momentos-item">
            <img src="img/a5.jpg" alt="Momento 1" />
            <p class="momentos-desc">Mi oufit favorito</p>
          </div>
          <div class="momentos-item">
            <img src="img/a3.jpg" alt="Momento 1" />
            <p class="momentos-desc">Mi oufit favorito #2</p>
          </div>
          <div class="momentos-item">
            <img src="img/fondo.jpg" alt="Momento 1" />
            <p class="momentos-desc">Mi fondo de pantalla</p>
          </div>
          <div class="momentos-item">
            <img src="img/7.jpg" alt="Momento 1" />
            <p class="momentos-desc">La primera foto</p>
          </div>
        </div>
      </section>

      <section class="card you-me-container">
        <h3 class="section-title">T√∫ y Yo</h3>
        <div class="you-me-content">
          <div class="person">
            <img src="img/ella.jpg" alt="Yo" />
            <p class="label">You</p>
          </div>

          <div class="and-text">AND</div>

          <div class="person">
            <img src="img/yo.jpg" alt="Ella" />
            <p class="label">Me</p>
          </div>
        </div>

        <p class="always-text">Always Forever üíû</p>
      </section>

      <section class="card" id="settings">
        <h3 class="section-title">M√∫sica</h3>
        <p class="small">
          La m√∫sica intentar√° reproducirse autom√°ticamente al abrir la p√°gina.
          Si no suena, presion√° "Reproducir m√∫sica" en la cabecera.
        </p>
      </section>
      <br />
      <button onclick="window.location.href='pgn2.html'" class="btn-velas">
        üíå Da click aqui mi amor
      </button>
      <button onclick="window.location.href='juego.html'" class="btn-juego">
        ‚ñ∂ Jugar
      </button>

      <style>
        .btn-juego {
          margin-left: 540px; /* ajusta el valor */
        }
        .btn-juego {
          background: linear-gradient(135deg, #ff9ecf, #ff6fb1);
          color: #fff;

          font-size: 1.1rem;
          padding: 14px 30px;
          border-radius: 30px;

          border: none;
          cursor: pointer;

          font-weight: 600;
          letter-spacing: 0.5px;

          box-shadow: 0 8px 18px rgba(255, 111, 177, 0.4);

          transition: all 0.25s ease;
        }

        /* hover: se eleva un poquito */
        .btn-juego:hover {
          transform: translateY(-3px);
          box-shadow: 0 12px 26px rgba(255, 111, 177, 0.55);
        }

        /* click: efecto presionado */
        .btn-juego:active {
          transform: scale(0.96);
        }

        .btn-velas {
          background: linear-gradient(45deg, #ff7eb9, #ffb6c1);
          color: white;
          font-size: 1.1rem;
          font-family: "Poppins", sans-serif;
          border: none;
          border-radius: 12px;
          padding: 12px 22px;
          cursor: pointer;
          box-shadow: 0 0 15px rgba(255, 182, 193, 0.6);
          transition: all 0.3s ease;
        }

        .btn-velas:hover {
          transform: scale(1.08);
          box-shadow: 0 0 25px rgba(255, 105, 180, 0.8);
        }

        .btn-velas:active {
          transform: scale(0.95);
        }
      </style>

      <footer>
        <small>Hecho por tu Gusanito que te ama mucho, solo para ti.üíó</small>
      </footer>
    </main>

    <audio id="bg-audio" src="audios/iwy.mp3" preload="auto" loop></audio>

    <script>
      const LS_STORY = "nuestra_historia_texto_v1";
      const LS_NOTES = "nuestras_notas_v1";

      const storyEl = document.getElementById("story-text");
      const notesList = document.getElementById("notes-list");
      const fileListEl = document.getElementById("file-list");
      let attachedFiles = [];

      function loadStory() {
        const s = localStorage.getItem(LS_STORY);
        if (s) storyEl.textContent = s;
      }
      function saveStory() {
        localStorage.setItem(LS_STORY, storyEl.textContent);
        alert("Historia guardada localmente.");
      }

      function loadNotes() {
        const raw = localStorage.getItem(LS_NOTES);
        if (!raw) return [];
        try {
          return JSON.parse(raw) || [];
        } catch (e) {
          return [];
        }
      }
      function saveNotes(notes) {
        localStorage.setItem(LS_NOTES, JSON.stringify(notes));
      }

      function renderNotes() {
        const notes = loadNotes();
        notesList.innerHTML = "";
        if (notes.length === 0) {
          notesList.innerHTML =
            '<div class="small" style="padding:12px;color:rgba(255,255,255,0.6)">No hay notas a√∫n.</div>';
          return;
        }
        notes
          .slice()
          .reverse()
          .forEach((n) => {
            const el = document.createElement("div");
            el.className = "note";
            el.innerHTML = `<strong>${escapeHtml(n.title || "Nota")}</strong>
                      <div style="margin-top:6px">${escapeHtml(n.body)}</div>
                      <small>${new Date(n.t || 0).toLocaleString()}</small>`;
            notesList.appendChild(el);
          });
      }

      function escapeHtml(str) {
        if (!str) return "";
        return ("" + str)
          .replaceAll("&", "&amp;")
          .replaceAll("<", "&lt;")
          .replaceAll(">", "&gt;");
      }

      document.getElementById("note-form").addEventListener("submit", (e) => {
        e.preventDefault();
        const title = document.getElementById("note-title").value.trim();
        const body = document.getElementById("note-body").value.trim();
        if (!body) return alert("Escrib√≠ algo en la nota.");
        const notes = loadNotes();
        notes.push({ title, body, t: Date.now() });
        saveNotes(notes);
        document.getElementById("note-title").value = "";
        document.getElementById("note-body").value = "";
        renderNotes();
      });

      document.getElementById("clear-notes").addEventListener("click", () => {
        if (confirm("Borrar todas las notas?")) {
          localStorage.removeItem(LS_NOTES);
          renderNotes();
        }
      });

      document
        .getElementById("save-story")
        .addEventListener("click", saveStory);

      // Adjuntar archivos
      const attachInput = document.getElementById("attach-file");
      attachInput.addEventListener("change", (e) => {
        const files = Array.from(e.target.files);
        files.forEach((f) => {
          attachedFiles.push(f);
          const li = document.createElement("li");
          li.innerHTML = `<strong>${
            f.name
          }</strong> <a href="" onclick="downloadFile(event,'${
            attachedFiles.length - 1
          }')">Descargar</a>`;
          fileListEl.appendChild(li);
        });
        attachInput.value = "";
      });

      function downloadFile(e, index) {
        e.preventDefault();
        const file = attachedFiles[index];
        const url = URL.createObjectURL(file);
        const a = document.createElement("a");
        a.href = url;
        a.download = file.name;
        a.click();
        URL.revokeObjectURL(url);
      }

      // M√∫sica autoplay
      const audio = document.getElementById("bg-audio");
      const playBtn = document.getElementById("play-toggle");
      playBtn.addEventListener("click", async () => {
        if (audio.paused) {
          await audio.play();
          playBtn.textContent = "Pausar m√∫sica";
        } else {
          audio.pause();
          playBtn.textContent = "Reproducir m√∫sica";
        }
      });
      window.addEventListener("load", () => {
        setTimeout(() => audio.play().catch(() => {}), 600);
        loadStory();
        renderNotes();
      });

      // Navegaci√≥n r√°pida
      document.getElementById("jump-story").addEventListener("click", () => {
        document.getElementById("story").scrollIntoView({ behavior: "smooth" });
      });
      document.getElementById("jump-notes").addEventListener("click", () => {
        document.getElementById("notes").scrollIntoView({ behavior: "smooth" });
      });

      const toggleHeart = document.getElementById("momentos-toggle");
      const gallery = document.getElementById("momentos-gallery");

      toggleHeart.addEventListener("click", () => {
        gallery.style.display =
          gallery.style.display === "flex" ? "none" : "flex";
      });
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const toggleHeart = document.getElementById("momentos-toggle");
        const gallery = document.getElementById("momentos-gallery");

        toggleHeart.addEventListener("click", () => {
          if (gallery.style.display === "flex") {
            gallery.style.display = "none";
          } else {
            gallery.style.display = "flex";
          }
        });
      });

      toggleHeart.addEventListener("click", () => {
        if (gallery.classList.contains("show")) {
          gallery.classList.remove("show");
          gallery.style.display = "none";
        } else {
          gallery.style.display = "flex";

          // Animar cada imagen con retraso
          const images = gallery.querySelectorAll("img");
          images.forEach((img, i) => {
            img.style.animationDelay = `${i * 0.1}s`;
          });

          gallery.classList.add("show");
        }
      });
    </script>

    <script>
      window.addEventListener("load", () => {
        const audio = document.getElementById("bg-audio");
        const playBtn = document.getElementById("play-toggle");

        playBtn.addEventListener("click", async () => {
          try {
            if (audio.paused) {
              await audio.play();
              playBtn.textContent = "Pausar m√∫sica";
            } else {
              audio.pause();
              playBtn.textContent = "Reproducir m√∫sica";
            }
          } catch (err) {
            console.log("No se pudo reproducir el audio autom√°ticamente:", err);
          }
        });
      });
    </script>

    <script>
      const perlas = document.querySelectorAll(".perla");
      let recolectadas = 0;

      perlas.forEach((p) => {
        p.addEventListener("click", () => {
          // Animaci√≥n de desaparici√≥n
          p.style.transform = "scale(0)";
          p.style.opacity = "0";
          setTimeout(() => (p.style.display = "none"), 300); // eliminar del DOM visualmente

          // Contar
          recolectadas++;
          if (recolectadas === perlas.length) {
            document.getElementById("perla-completa").style.display =
              "inline-block";

            const perlas = document.querySelectorAll(".perla");
            const perlaCountBtn = document.getElementById("perla-count");
            const perlaCompletaBtn = document.getElementById("perla-completa");
            let recolectadas = 0;

            perlas.forEach((p) => {
              p.addEventListener("click", () => {
                // Animaci√≥n de desaparici√≥n
                p.style.transform = "scale(0)";
                p.style.opacity = "0";
                setTimeout(() => (p.style.display = "none"), 300);

                // Contar fragmentos
                recolectadas++;
                perlaCountBtn.textContent = `Fragmentos recolectados: ${recolectadas}/6`;

                // Si recolect√≥ todas, habilitar bot√≥n
                if (recolectadas === perlas.length) {
                  perlaCompletaBtn.style.display = "inline-block";
                  perlaCountBtn.disabled = true; // opcional, desactivar contador
                }
              });
            });
          }
        });
      });
    </script>
  </body>
</html>
